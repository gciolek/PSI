close all; clear all; clc; 

%min i max wejsc do sieci (macierz 5x7 wiec 35 pol, na ktorych moga byc
%wartosci tylko 1 lub 0)
min_max=[0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 
         0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1;
         0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 
         0 1; 0 1; 0 1; 0 1; 0 1];

wyj_siec = 1; % ilosc wyjsc z sieci

net = newp(min_max, wyj_siec); %ALGORYTM 1
%net = newlin(min_max, wyj_siec, 0, 0.01); %ALGORYTM 2

%kolumnowa reprezentacja 
%           Q q R r S s T t U u V v W w X x Y y Z z 
wejscie = [ 0 0 1 0 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 ; 
            1 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 ;
            1 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 ;
            1 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 ;
            0 0 0 0 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 ; 
            1 0 1 0 1 0 0 0 1 0 1 0 1 0 1 0 1 0 0 0 ;
            0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ;
            0 1 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 ;
            0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ;
            1 0 1 0 1 0 0 0 1 0 1 0 1 0 1 0 1 0 1 0 ;
            1 0 1 0 1 0 0 0 1 0 1 0 1 0 0 1 0 1 0 0 ;
            0 1 0 0 0 1 0 1 0 0 0 0 0 0 1 0 1 0 0 0 ;
            0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 ;
            0 1 0 0 0 1 0 1 0 0 0 0 0 0 1 0 1 0 1 0 ;
            1 0 1 0 0 0 0 0 1 0 1 0 1 0 0 1 0 1 0 0 ;
            1 0 1 1 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 1 ;
            0 1 1 1 1 1 0 0 0 1 0 0 0 0 0 1 0 1 0 1 ;
            0 0 1 0 1 0 1 1 0 0 0 0 0 0 1 0 1 0 1 1 ;
            0 1 1 1 1 0 0 0 0 1 0 0 0 0 0 1 0 1 0 1 ;
            1 0 0 0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 0 ;
            1 0 1 0 0 0 0 0 1 0 1 1 1 1 0 0 0 0 0 0 ;
            0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0 ;
            1 1 1 1 0 1 1 1 0 0 0 0 1 0 0 1 1 1 0 1 ;
            0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 ;
            1 0 0 1 1 0 0 0 1 0 1 1 1 1 0 0 0 0 0 0 ;
            1 0 1 0 1 1 0 0 1 0 0 0 1 1 1 0 0 0 1 0 ;
            0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 1 0 0 0 1 ;
            0 0 0 1 0 0 1 1 0 0 0 0 1 1 0 0 1 1 0 0 ;
            1 1 1 0 0 1 0 0 0 1 1 1 0 0 0 1 0 0 0 0 ;
            0 0 0 0 1 0 0 1 1 0 0 0 1 1 1 0 0 0 0 0 ;
            0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 1 ;
            1 0 0 0 1 1 0 0 1 1 0 0 1 1 0 0 0 1 1 1 ;
            1 1 0 1 1 1 1 1 1 1 1 1 0 0 0 0 1 1 1 1 ;
            0 1 0 0 1 1 0 1 1 1 0 0 1 1 0 0 0 0 1 1 ;
            1 1 1 0 0 0 0 0 0 1 0 0 0 0 1 1 0 0 1 1 ;
            ];
        
wyjscie = [ 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 ];

%DANE TESTUJACE

Q = [ 0; 1; 1; 1; 0; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 1; 0; 1; 1; 0; 0; 1; 0; 0; 1; 1; 0; 1 ];
q = [ 0; 0; 0; 0; 0; 0; 1; 1; 1; 0; 0; 1; 0; 1; 0; 0; 1; 0; 1; 0; 0; 1; 1; 1; 0; 0; 0; 0; 1; 0; 0; 0; 1; 1; 1 ];

R = [ 1; 1; 1; 1; 0; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 1; 1; 1; 0; 1; 0; 1; 0; 0; 1; 0; 0; 1; 0; 1; 0; 0; 0; 1 ];
r = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 1; 0; 1; 0; 0; 0; 1; 0; 1; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0 ];

S = [ 0; 1; 1; 1; 0; 1; 0; 0; 0; 1; 1; 0; 0; 0; 0; 0; 1; 1; 1; 0; 0; 0; 0; 0; 1; 1; 0; 0; 0; 1; 0; 1; 1; 1; 0 ];
s = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 1; 1; 0; 0; 1; 0; 0; 1; 0; 0; 1; 0; 0; 1; 0; 0; 1; 0; 0; 1; 1; 1; 0 ];

T = [ 1; 1; 1; 1; 1; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0 ];
t = [ 0; 0; 0; 0; 0; 0; 0; 1; 0; 0; 0; 1; 1; 1; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 1; 0; 0; 1; 1; 0 ];

U = [ 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 0; 1; 1; 1; 0 ];
u = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 1; 0; 1; 0; 0; 1; 0; 1; 0; 0; 1; 0; 1; 0; 0; 1; 1; 1; 1 ];

V = [ 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 0; 0 ];
v = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 0; 0 ];

W = [ 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 1; 0; 1; 1; 0; 1; 0; 1; 0; 1; 0; 1; 0 ];
w = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 1; 0; 1; 0; 1; 0; 1; 0; 1; 0 ];

X = [ 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 1; 0; 0; 0; 1 ];
x = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1 ];

Y = [ 1; 0; 0; 0; 1; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0 ];
y = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 0; 0; 0; 1; 0; 1; 0; 1; 0; 0; 0; 1; 0; 0; 0; 0; 1; 0; 0; 0; 1; 1; 0; 0 ];

Z = [ 1; 1; 1; 1; 1; 0; 0; 0; 0; 1; 0; 0; 0; 1; 0; 0; 0; 1; 0; 0; 0; 1; 0; 0; 0; 1; 0; 0; 0; 0; 1; 1; 1; 1; 1 ];
z = [ 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 1; 1; 1; 1; 0; 0; 0; 1; 0; 0; 0; 1; 0; 0; 0; 1; 1; 1; 1; 1 ];

% Parametry uczenia siê : 
net.trainParam.epochs = 100; % Max epok
net.trainParam.goal = 0.1; % Blad sredniokwadratowy
net.trainParam.mu = 0.1; % Wspolczynnik uczenia

% Uczenie : 
net = train(net, wejscie, wyjscie);

% Symulacje i testy :
test1 = sim(net, Z);
test2 = sim(net, z);

[test1 test2]

if round (test1) <= 0
    disp('Mala litera');  
else
    disp('Duza litera');
end;    

if round (test2) <= 0
    disp('Mala litera');  
else
    disp('Duza litera');
end; 
